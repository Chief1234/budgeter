<!doctype html>
<html>
    <head>
        <title>{{ title }} - Microblog</title>

        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous"></script>
        <script
        src="https://code.jquery.com/jquery-3.6.0.js"
        integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
        crossorigin="anonymous"></script>
    </head>
    <body>
        
        <div class="container">

            <div id='drop-area' style='width:100px; height:100px; background-color: blue;' >
                
            </div>

            <div>tabs for datagrid here?</div>

                click a tab - go to 

                asdfasdfasfasdfasf

            <div>datagrid here?</div>

            <div>chart here?</div>
        </div>

        asdf

    </body>

    <script>

        state = {}

        updates = []

        function SetState(state){
            
        }

        function UpdateState(){
            for(u in updates){
                updates[u]()
            }
        }

        function RenderDatagrid(){

        }

        function updatepage(){
            alert("page is loaded")
        }

        $( document ).ready(function() {
            
            initializeDropZone();
            
            updates.push(updatepage);
            UpdateState();
        });

        function initializeDropZone(){

            let dropArea = document.getElementById('drop-area')

            // dropArea.addEventListener('dragenter', handlerFunction, false)
            // dropArea.addEventListener('dragleave', handlerFunction, false)
            // dropArea.addEventListener('dragover', handlerFunction, false)
            dropArea.addEventListener("dragover", function(event) {
                event.preventDefault();
            });
            dropArea.addEventListener('drop', function(e){
                let dt = e.dataTransfer
                let files = dt.files

                let formData = new FormData();
                
                formData.append('file', files[0])

                fetch('test', {
                    method: 'POST',
                    body: formData
                })
            })
        }


    </script>
</html>